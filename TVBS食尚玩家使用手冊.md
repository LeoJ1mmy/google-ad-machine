# TVBS 食尚玩家廣告替換程式使用手冊

## 🎯 程式功能
- 自動掃描 TVBS 食尚玩家網站
- 將廣告替換為自訂圖片
- 自動截圖記錄結果
- 專門針對美食、旅遊、生活相關內容

## 📦 安裝
```bash
pip install -r requirements.txt
```

## ⚙️ 設定檔案 (config.py)

### 主要設定
```python
SCREENSHOT_COUNT = 10        # 要截圖的張數
NEWS_COUNT = 20             # 要搜尋的文章數量
HEADLESS_MODE = False       # 是否隱藏瀏覽器視窗
TVBS_BASE_URL = "https://supertaste.tvbs.com.tw"  # TVBS 食尚玩家
```

## 🚀 使用方法

### 1. 手動執行程式
```bash
python tvbs_replace.py
```

### 2. 程式會自動：
- 搜尋 TVBS 食尚玩家文章
- 掃描廣告位置
- 替換廣告圖片
- 截圖記錄結果
- 達到設定數量後停止

## 📸 替換圖片

### 圖片命名
- 格式：`google_寬度x高度.jpg`
- 範例：`google_300x250.jpg`

### TVBS 支援尺寸
- 300x250, 728x90, 970x90
- 320x50, 336x280
- 其他常見廣告尺寸

## 🎯 目標網站特色

### TVBS 食尚玩家
- 專業的美食旅遊平台
- 豐富的餐廳介紹
- 旅遊景點推薦
- 生活風格內容
- 高品質的美食攝影

### 智能掃描
- 全頁面元素尺寸分析
- ±2像素容差匹配
- 自動排除控制按鈕
- 精確的廣告位置識別

## 🔧 調整設定

### 修改截圖數量
```python
# 在 config.py 中改這行
SCREENSHOT_COUNT = 5        # 改為5張
```

### 修改文章數量
```python
# 在 config.py 中改這行
NEWS_COUNT = 15             # 改為15個
```

### 隱藏瀏覽器視窗
```python
# 在 config.py 中改這行
HEADLESS_MODE = True        # 不顯示瀏覽器
```

### 修改目標網站
```python
# 在 config.py 中改這行
TVBS_BASE_URL = "https://supertaste.tvbs.com.tw"  # TVBS 食尚玩家
```

## 📁 檔案說明

- `tvbs_replace.py` - 主程式
- `TVBS食尚玩家使用手冊.md` - 使用說明
- `config.py` - 設定檔
- `replace_image/` - 替換圖片資料夾
- `screenshots/` - 截圖輸出資料夾

## ❓ 常見問題

### Q: 程式無法啟動？
A: 確認已安裝依賴包：`pip install -r requirements.txt`

### Q: 找不到廣告？
A: 確認 `replace_image/` 資料夾中有對應尺寸的圖片

### Q: 截圖數量不對？
A: 檢查 `config.py` 中的 `SCREENSHOT_COUNT` 設定

### Q: 瀏覽器無法開啟？
A: 確認已安裝 Google Chrome

### Q: 找不到文章？
A: 程式會自動搜尋 TVBS 食尚玩家的美食、旅遊、生活文章

### Q: 廣告替換失敗？
A: 檢查圖片尺寸是否符合網站廣告規格

## 🌟 特殊功能

### 多張截圖功能
- 每個頁面自動拍攝3張截圖
- 分別拍攝頁面頂部、中間、底部
- 確保捕捉所有廣告替換效果

### 自動還原功能
- 保存廣告原始狀態
- 截圖完成後自動還原
- 不影響網站正常運作

### 多類型內容支援
- 美食文章 (`/food/`)
- 旅遊文章 (`/travel/`)
- 生活文章 (`/life/`)
- 自動識別內容類型

### 頁面尺寸分析
- 自動分析頁面元素尺寸分佈
- 顯示最常見的元素尺寸
- 幫助了解網站廣告規格

### 智能滾動載入
- 自動滾動頁面觸發懶載入
- 確保所有廣告都能載入
- 提高廣告發現率

### 精確尺寸匹配
- 允許 ±2 像素的容差範圍
- 適應不同解析度螢幕
- 提高匹配成功率

### 完整還原機制
- 保存原始廣告內容
- 截圖後自動還原
- 不影響網站正常運作

## 📝 注意事項

1. 需要網路連線
2. 需要 Google Chrome 瀏覽器
3. 圖片建議使用 JPG 格式
4. 程式會自動停止達到目標數量
5. 專門針對 TVBS 食尚玩家網站
6. 支援 Ctrl+C 優雅中斷

## 🎨 截圖命名規則

截圖檔案會自動命名為：
```
tvbs_replaced_[article title]_[時間戳]_pos[位置].png
```

範例：
```
tvbs_replaced_台北美食推薦_20240131_143022_pos1.png  # 頁面頂部
tvbs_replaced_台北美食推薦_20240131_143022_pos2.png  # 頁面中間
tvbs_replaced_台北美食推薦_20240131_143022_pos3.png  # 頁面底部
```

### 截圖位置說明
- **pos1**: 頁面頂部截圖
- **pos2**: 頁面中間截圖  
- **pos3**: 頁面底部截圖

## 🔍 除錯功能

### 頁面分析
程式會自動分析頁面上的元素尺寸分佈：
```
頁面上最常見的元素尺寸:
  300x250: 8 個元素
    例如: <div class='ad-container' id='ad_1'>
  728x90: 3 個元素
    例如: <iframe class='google-ad' id=''>
```

### 詳細日誌
- 顯示載入的替換圖片清單
- 記錄廣告掃描進度
- 報告替換成功/失敗狀態
- 截圖保存路徑

## 🍽️ TVBS 食尚玩家特色

### 內容豐富度
- 涵蓋全台美食餐廳
- 詳細的菜單介紹
- 專業的美食攝影
- 實用的用餐資訊

### 旅遊整合
- 結合美食與旅遊
- 在地特色推薦
- 季節性內容更新
- 多元化的生活風格

---

**簡單三步驟：**
1. 修改 `config.py` 設定
2. 執行 `python tvbs_replace.py`
3. 查看 `screenshots/` 資料夾的結果

**專業提示：**
- TVBS 食尚玩家內容更新頻繁且品質優良
- 建議在網路流量較低時執行以提高成功率
- 程式支援 Ctrl+C 安全中斷，不會損壞資料
- 支援美食、旅遊、生活三大類型內容